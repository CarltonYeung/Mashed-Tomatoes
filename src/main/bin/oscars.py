import models

BEST_PICTURE_API_MOVIE_ID_YEARS = [
    (399055, 2018),
    (376867, 2017),
    (314365, 2016),
    (194662, 2015),
    (76203, 2014),
    (68734, 2013),
    (74643, 2012),
    (45269, 2011),
    (12162, 2010),
    (12405, 2009),
    (6977, 2008),
    (1422, 2007),
    (1640, 2006),
    (70, 2005),
    (122, 2004),
    (12, 2003),
    (1574, 2002),
    (453, 2001),
    (98, 2000),
    (14, 1999),
    (1934, 1998),
    (597, 1997),
    (409, 1996),
    (197, 1995),
    (13, 1994),
    (424, 1993),
    (33, 1992),
    (274, 1991),
    (581, 1990),
    (403, 1989),
    (380, 1988),
    (746, 1987),
    (792, 1986),
    (606, 1985),
    (279, 1984),
    (11050, 1983),
    (783, 1982),
    (9443, 1981),
    (16619, 1980),
    (12102, 1979),
    (11778, 1978),
    (703, 1977),
    (1366, 1976),
    (510, 1975),
    (240, 1974),
    (9277, 1973),
    (238, 1972),
    (1051, 1971),
    (11202, 1970),
    (3116, 1969),
    (17917, 1968),
    (10633, 1967),
    (874, 1966),
    (15121, 1965),
    (11113, 1964),
    (5769, 1963),
    (947, 1962),
    (1725, 1961),
    (284, 1960),
    (665, 1959),
    (17281, 1958),
    (826, 1957),
    (2897, 1956),
    (15919, 1955),
    (654, 1954),
    (11426, 1953),
    (27191, 1952),
    (2769, 1951),
]

BEST_CINEMATOGRAPHY_API_MOVIE_ID_YEARS = [
    (335984, 2017),
    (313369, 2016),
    (281957, 2015),
    (194662, 2014),
    (49047, 2013),
    (87827, 2012),
    (44826, 2011),
    (27205, 2010),
    (19995, 2009),
    (12405, 2008),
    (7345, 2007),
    (1417, 2006),
    (1904, 2005),
    (2567, 2004),
    (8619, 2003),
    (4147, 2002),
    (120, 2001),
    (14, 1999),
    (857, 1998),
    (597, 1997),
    (409, 1996),
    (197, 1995),
    (4476, 1994),
    (424, 1993),
    (293, 1992),
    (820, 1991),
    (581, 1990),
    (9665, 1989),
    (1632, 1988),
    (746, 1987),
    (11416, 1986),
    (606, 1985),
    (625, 1984),
    (5961, 1983),
    (18254, 1981),
    (28, 1979),
    (16642, 1978),
    (840, 1977),
    (42232, 1976),
    (3175, 1975),
]

BEST_FILM_EDITING_API_MOVIE_ID_YEARS = [
    (335984, 2017),
    (313369, 2016),
    (281957, 2015),
    (194662, 2014),
    (49047, 2013),
    (87827, 2012),
    (44826, 2011),
    (27205, 2010),
    (19995, 2009),
    (12405, 2008),
    (7345, 2007),
    (1417, 2006),
    (1904, 2005),
    (2567, 2004),
    (8619, 2003),
    (4147, 2002),
    (120, 2001),
    (14, 1999),
    (857, 1998),
    (597, 1997),
    (409, 1996),
    (197, 1995),
    (4476, 1994),
    (424, 1993),
    (293, 1992),
    (820, 1991),
    (581, 1990),
    (9665, 1989),
    (1632, 1988),
    (746, 1987),
    (11416, 1986),
    (606, 1985),
    (625, 1984),
    (5961, 1983),
    (18254, 1981),
    (28, 1979),
    (16642, 1978),
    (840, 1977),
    (42232, 1976),
    (3175, 1975),
]

BEST_DOCUMENTARY_FEATURE_API_MOVIE_ID_YEARS = [
    (432976, 2017),
    (377462, 2016),
    (331781, 2015),
    (293310, 2014),
    (159014, 2013),
    (84334, 2012),
    (82620, 2011),
    (44639, 2010),
    (23128, 2009),
    (14048, 2008),
    (13362, 2007),
    (1781, 2006),
    (1667, 2005),
    (1392, 2004),
    (12698, 2003),
]

BEST_ANIMATED_FEATURE_API_MOVIE_ID_YEARS = [
    (354912, 2017),
    (269149, 2016),
    (150540, 2015),
    (177572, 2014),
    (109445, 2013),
    (62177, 2012),
    (44896, 2011),
    (10193, 2010),
    (14160, 2009),
    (10681, 2008),
    (2062, 2007),
    (9836, 2006),
    (533, 2005),
    (9806, 2004),
    (12, 2003),
    (129, 2002),
    (808, 2001),
]


def get_id_where(filter_fn, lst):
    tuple = next(filter(filter_fn, lst), None)
    if tuple:
        return tuple[0]
    return None


def get_oscar_winner_sets():
    results = []

    for year in range(1975, 2018):
        def filter_by_year(tuple):
            return tuple[1] == year

        best_picture_id = get_id_where(filter_by_year, BEST_PICTURE_API_MOVIE_ID_YEARS)
        best_cinema_id = get_id_where(filter_by_year, BEST_CINEMATOGRAPHY_API_MOVIE_ID_YEARS)
        best_editing_id = get_id_where(filter_by_year, BEST_FILM_EDITING_API_MOVIE_ID_YEARS)
        best_doc_id = get_id_where(filter_by_year, BEST_DOCUMENTARY_FEATURE_API_MOVIE_ID_YEARS)
        best_animated_id = get_id_where(filter_by_year, BEST_ANIMATED_FEATURE_API_MOVIE_ID_YEARS)

        results.append(models.OscarWinnerSet(
            year=year,
            best_picture_id=best_picture_id,
            best_cinema_id=best_cinema_id,
            best_editing_id=best_editing_id,
            best_doc_id=best_doc_id,
            best_animated_id=best_animated_id
        ))

    return results
